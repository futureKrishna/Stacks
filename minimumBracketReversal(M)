#include<stack>
int countBracketReversals(string input) {
	// Write your code here
    if(input.length()==0){
        return 0;
    }   
    stack<char> s;
    int count=0;
    if(input.length()%2==0){
    	for(int i=0;i<input.length();i++){
    		if(input[i]=='{'){
            	s.push(input[i]);
        	}
            else if(input[i]=='}'&&!s.empty()){
                if(s.top()=='{'){
                    s.pop();
                }else{
                    s.push(input[i]);
                }
            }
        	/*else if(input.length()==0 && input[i]=='}'){
            	s.push(input[i]);
        	}
        	else if(input.length()!=0 && s.top()=='{'){
            s.pop();
        }
        else if(input.length()!=0 && s.top()=='}'){
            s.push(input[i]);
        }*/
            else{
                s.push(input[i]);
            }
    }
    
    string c1,c2;
    while(s.size()!=0){
        c1=s.top();
   		s.pop();
    	c2=s.top();
    	s.pop();
    	if(c1==c2){
        	count++;
    	}
    	else{
        	count+=2;
    	}
    }
    return count;
	}
    else{
        return  -1;
    }
}
