# include<bits/stdc++.h>
using namespace std;
int* stockSpan(int *price, int n)  {
	// Write your code here
    int *S=new int[n]; 
    // Span value of first day is always 1  
    S[0] = 1;  
  
    for (int i = 1; i < n; i++)  
    {  
        S[i] = 1; 
        
        for (int j = i - 1; (j >= 0) &&  
                (price[i] >price[j]); j--)  
            S[i]++;  
    } 
    return S;
}

APPROACH 2

#include <stack>
int* stockSpan(int *price, int size){
    int * output = new int[size];
    stack <int> s;
    output[0]=1;
    s.push(0);
    for( int i=1; i<size ; i++ ){
        if(price[i]<price[s.top()]){
            output[i]=1;
            s.push(i);
        }
        else{
            while( !s.empty() && price[i] > price[s.top()]){
                s.pop();
            }
            if(s.empty()){
                output[i]=i+1;
                s.push(i);
            }
            else{
                output[i]=i-s.top();
                s.push(i);
            }
        }
    }
    return output;
}
